___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Equalweb",
  "description": "Custom Template for EqualWeb Digital Accesibility",
  "categories": ["PERSONALIZATION"],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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\u003d",
    "displayName": "Custom template created by Luratic",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "displayName": "sitekey",
    "simpleValueType": true,
    "name": "sitekey",
    "type": "TEXT"
  },
  {
    "displayName": "Position",
    "simpleValueType": true,
    "name": "position",
    "type": "TEXT"
  },
  {
    "displayName": "Menulang",
    "simpleValueType": true,
    "name": "menulang",
    "type": "TEXT"
  },
  {
    "displayName": "btnStyle",
    "simpleValueType": true,
    "name": "btnStyle",
    "type": "TEXT",
    "help": "A Javascript object with style boton"
  },
  {
    "type": "LABEL",
    "name": "info",
    "displayName": "\u003ca href\u003d\"https://www.luratic.com/posts/templates/tags/equalweb/\"\u003eMore info\u003c/a\u003e"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const callInWindow = require('callInWindow');
const setInWindow = require('setInWindow');
const accountId = data.accountId; 
log('data =', data);

var interdealConf = {
  sitekey  : data.sitekey,
  Position : data.position,
  Menulang : data.menulang,
  btnStyle : data.btnStyle
};
setInWindow('interdeal', interdealConf);

const trackingUrl = 'https://aacdn.nagich.com/core/2.0.2/accessibility.js';
injectScript(trackingUrl, data.gtmOnSuccess, data.gtmOnFailure, 'accessibilityPx');


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "interdeal"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://aacdn.nagich.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Developed with ❤ by: Alfonso, Txema and Brais.
Web: www.luratic.com
Linkedin: 
https://www.linkedin.com/in/braiscalvo/
https://www.linkedin.com/in/alfonsorc/
https://www.linkedin.com/in/txema-s%C3%A1nchez-a48482ba/



